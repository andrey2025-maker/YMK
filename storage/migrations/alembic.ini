# A generic, single database configuration.

[alembic]
# Путь к файлу с окружением миграций
script_location = storage/migrations

# Версия формата миграций
version_path_separator = os

# Версионирование для SQLAlchemy
sqlalchemy.url = postgresql://postgres:postgres@localhost:5432/electric_bot

# Стиль именования таблицы версий
version_table = alembic_version
version_table_schema = None

# Уведомления о деприкейшенах
deprecations = True

# Логирование
log_config = False

# Формат логов
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S

# Опции для асинхронной работы
[post_write_hooks]
# Хуки после генерации миграций
# hooks = black, isort

# [hook.black]
# type = console_scripts
# entrypoint = black
# options = -l 88

# [hook.isort]
# type = console_scripts
# entrypoint = isort

# Настройки для PostgreSQL
[postgresql]
# Использование схем
use_schemas = False

# Поддержка ENUM
use_native_enum = True

# Поддержка JSONB
use_native_json = True